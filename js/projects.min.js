const ANIMATION_CONFIG={FADE_DURATION:300,STAGGER_DELAY:100,FOCUS_DELAY:100},ITEMS_PER_PAGE=6,PRERENDER_ATTR="prerendered",CATEGORY_LABELS={cicd:"CI/CD",infrastructure:"Infrastructure",serverless:"Serverless",automation:"Automation"};function slugify(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-")}function findProjectBySlug(e){return allProjects.find(t=>slugify(t.title)===e)}const allProjects=[{icon:"fab fa-docker",title:"ECS Fargate Blue/Green Deployment",desc:"Production-ready containerized deployment using AWS ECS Fargate with automated Blue/Green strategy via CodeDeploy, zero-downtime updates, and GitHub Actions CI/CD.",link:"https://github.com/engabelal/ecs-fargate-terraform-deployment",category:"cicd",metrics:{performance:"100% uptime",cost:"9 modules",uptime:"Zero downtime"},problem:"Container deployments causing downtime and lacking automated rollback capabilities",solution:"Blue/Green deployment with CodeDeploy, modular Terraform (9 modules), GitHub Actions OIDC, and automated rollback on failure",techStack:["ECS Fargate","CodeDeploy","Terraform","GitHub Actions","ALB","ECR","DynamoDB"],results:["Zero downtime deployments","Automatic rollback","Serverless containers","9 reusable Terraform modules"]},{icon:"fab fa-node-js",title:"Node.js CI/CD Pipeline",desc:"GitHub Actions and Terraform pipeline delivering sub-15-second deployments, automated testing, and zero-downtime releases on AWS EC2.",link:"https://github.com/engabelal/simple-nodejs-ec2-cicd",category:"cicd",metrics:{performance:"85% faster",cost:"15-sec deploy",uptime:"100% consistent"},problem:"Manual deployments causing delays and inconsistencies across environments",solution:"Automated CI/CD pipeline with GitHub Actions, Terraform IaC, and blue-green deployment strategy",techStack:["GitHub Actions","Terraform","AWS EC2","Docker","Nginx"],results:["85% faster deployment","Zero downtime releases","100% environment consistency"]},{icon:"fab fa-aws",title:"AWS Serverless Event Platform",desc:"EventBridge, Lambda, and DynamoDB stack codified as IaC—with CloudFront acceleration and automated environment provisioning.",link:"https://github.com/engabelal/iac-aws-serverless-event",category:"serverless",metrics:{performance:"60% cost cut",cost:"Auto-scale",uptime:"99.99%"},problem:"High infrastructure costs and maintenance overhead for event-driven applications",solution:"Serverless architecture using EventBridge for event routing, Lambda for processing, and DynamoDB for storage",techStack:["AWS Lambda","EventBridge","DynamoDB","CloudFront","API Gateway"],results:["60% cost reduction","Auto-scaling to zero","99.99% availability"]},{icon:"fas fa-server",title:"Auto-Scaling Web Infrastructure",desc:"Terraform-built AWS blueprint combining EC2 Auto Scaling, Network Load Balancers, and multi-AZ failover for resilient web tiers.",link:"https://github.com/engabelal/simple-webapp-ec2-nlb-asg",category:"infrastructure",metrics:{performance:"5x capacity",uptime:"99.9% uptime"},problem:"Web application unable to handle traffic spikes and single point of failure",solution:"Multi-AZ architecture with auto-scaling groups, network load balancers, and health checks",techStack:["Terraform","AWS EC2","Auto Scaling","NLB","CloudWatch"],results:["5x traffic capacity","99.9% uptime","Automatic failover"]},{icon:"fas fa-cogs",title:"MERN Stack Automation",desc:"Idempotent Ansible playbooks provisioning MongoDB, Express, React, and Node with hardened configurations and repeatable rollouts.",link:"https://github.com/engabelal/cm-ansible-mern-stack",category:"automation",metrics:{performance:"90% faster",uptime:"Zero drift"},problem:"Inconsistent MERN stack deployments and configuration drift across servers",solution:"Idempotent Ansible playbooks with role-based configuration and automated security hardening",techStack:["Ansible","MongoDB","Express.js","React","Node.js"],results:["90% faster provisioning","Zero configuration drift","Repeatable deployments"]},{icon:"fas fa-box",title:"Hardened DevOps AMI",desc:"Packer pipeline producing CIS-aligned Ubuntu AMIs preloaded with DevOps tooling, CloudWatch telemetry, and guardrails.",link:"https://github.com/engabelal/packer-aws-devops-ami",category:"infrastructure",metrics:{performance:"70% faster boot",uptime:"Hardened"},problem:"Security vulnerabilities and slow instance launch times due to runtime installations",solution:"Pre-baked AMIs with CIS benchmarks, DevOps tools, and monitoring agents using Packer",techStack:["Packer","AWS AMI","Ubuntu","CloudWatch","CIS Benchmarks"],results:["70% faster boot time","CIS Level 1 compliant","Standardized tooling"]},{icon:"fas fa-layer-group",title:"Terraform Layered MERN with RDS",desc:"Multi-tier Terraform architecture deploying MERN stack with RDS MySQL, VPC isolation, and production-grade networking.",link:"https://github.com/engabelal/terraform-layered-mern-rds",category:"infrastructure",metrics:{performance:"Multi-tier",cost:"Modular IaC",uptime:"Auto backups"},problem:"Complex multi-tier application requiring secure network isolation and managed database",solution:"Layered Terraform modules with VPC isolation, private subnets, and RDS MySQL with automated backups",techStack:["Terraform","AWS VPC","RDS MySQL","EC2","Security Groups"],results:["Network isolation","Automated backups","Modular IaC design"]},{icon:"fas fa-terminal",title:"CloudOps Scripts Kit",desc:"Production-ready shell toolkit for AWS auditing, cost optimisation, and day-two operations automation.",link:"https://github.com/engabelal/abcloudops-scripts-kit",category:"automation",metrics:{performance:"80% time saved",cost:"20% cost cut",uptime:"Compliance"},problem:"Manual AWS operations consuming time and prone to human errors",solution:"Automated shell scripts for common AWS operations, cost analysis, and security auditing",techStack:["Bash","AWS CLI","jq","Python","CloudWatch"],results:["80% time saved","20% cost reduction","Automated compliance checks"]}];let currentIndex=0,currentFilter="all";function attachProjectListDelegation(){const e=document.getElementById("projectsList");e&&e.addEventListener("click",e=>{const t=e.target.closest(".project-list-item");if(!t)return;const o=t.dataset.slug,r=o?findProjectBySlug(o):null;r&&openProjectModal(r)})}function getFilteredProjects(){return"all"===currentFilter?allProjects:allProjects.filter(e=>e.category===currentFilter)}function updateLoadMoreButton(e){const t=document.getElementById("loadMoreBtn");t&&("all"!==currentFilter?e<=6?t.style.display="none":(t.style.display="inline-block",t.textContent=0===currentIndex||currentIndex>=e?"Show Previous":"Load More Projects"):t.style.display="none")}function renderProjects(){try{const e=document.getElementById("projectsList");if(!e)return void console.error("Projects container not found");const t=getFilteredProjects();if("true"===e.dataset.prerendered&&"all"===currentFilter&&0===currentIndex){if(e.dataset.prerendered="false",e.style.opacity="1",currentIndex=0,updateLoadMoreButton(t.length),!(e.children.length<t.length))return;e.dataset.prerendered="false"}"true"===e.dataset.prerendered&&(e.dataset.prerendered="false"),e.style.transition=`opacity ${ANIMATION_CONFIG.FADE_DURATION}ms ease`,e.style.opacity="0",setTimeout(()=>{e.innerHTML="";const o=currentIndex,r="all"===currentFilter?t.length:Math.min(o+6,t.length);for(let n=o;n<r;n++){const o=t[n],r=document.createElement("div");r.className="project-list-item",r.dataset.slug=slugify(o.title),r.style.opacity="0",r.style.cursor="pointer";const a=CATEGORY_LABELS[o.category]||"Project",c=o.techStack?o.techStack.slice(0,4).map(e=>`<span>${e}</span>`).join(""):"";r.innerHTML=`\n        <div class="project-ribbon">${a}</div>\n        <div class="project-list-header">\n          <i class="${o.icon}"></i>\n          <div class="project-header-text">\n            <h3 class="project-list-title">${o.title}</h3>\n          </div>\n        </div>\n        <p class="project-list-desc">${o.desc}</p>\n        <div class="project-tech">${c}</div>\n        <div class="project-metrics-bar">\n          <div class="metrics-badges-group">\n            ${o.metrics?.performance?`<span class="metric-badge performance">${o.metrics.performance}</span>`:""}\n            ${o.metrics?.cost?`<span class="metric-badge cost"><i class="fas fa-dollar-sign"></i>${o.metrics.cost}</span>`:""}\n            ${o.metrics?.uptime?`<span class="metric-badge uptime"><i class="fas fa-check-circle"></i>${o.metrics.uptime}</span>`:""}\n          </div>\n          <button class="project-list-link project-details-btn" type="button">Details →</button>\n        </div>\n      `,r.addEventListener("click",e=>{e.target.closest(".project-details-btn"),openProjectModal(o)}),e.appendChild(r)}requestAnimationFrame(()=>{e.style.opacity="1";e.querySelectorAll(".project-list-item").forEach((e,t)=>{setTimeout(()=>{e.style.transition="opacity 0.5s ease",e.style.opacity="1"},t*ANIMATION_CONFIG.STAGGER_DELAY)})}),currentIndex="all"===currentFilter||r>=t.length?0:r,updateLoadMoreButton(t.length)},ANIMATION_CONFIG.FADE_DURATION)}catch(e){console.error("Error rendering projects:",e)}}const loadMoreBtn=document.getElementById("loadMoreBtn");loadMoreBtn&&loadMoreBtn.addEventListener("click",renderProjects);try{document.querySelectorAll(".filter-btn").forEach(e=>{e.addEventListener("click",()=>{currentFilter=e.dataset.filter,currentIndex=0,document.querySelectorAll(".filter-btn").forEach(e=>e.classList.remove("active")),e.classList.add("active"),renderProjects()})})}catch(e){console.error("Error setting up filter buttons:",e)}let lastProjectFocusedElement=null;function trapModalFocus(e){const t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),o=t[0],r=t[t.length-1];e.addEventListener("keydown",function(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===o&&(r.focus(),e.preventDefault()):document.activeElement===r&&(o.focus(),e.preventDefault()))})}function openProjectModal(e){try{lastProjectFocusedElement=document.activeElement;const t=document.getElementById("projectModal");if(!t)return void console.error("Project modal not found");const o=e.title.toLowerCase().replace(/[^a-z0-9]+/g,"-");window.history.pushState(null,"",`#project-${o}`);const r=document.getElementById("projectModalIcon");r&&(r.className=`cert-modal-icon ${e.icon}`);const n=document.getElementById("projectModalTitle");n&&(n.textContent=e.title);const a=document.getElementById("projectModalProblem");a&&(a.textContent=e.problem);const c=document.getElementById("projectModalSolution");c&&(c.textContent=e.solution);const i=document.getElementById("projectModalTech");i&&(i.innerHTML=e.techStack.map(e=>`<span class="tech-tag">${e}</span>`).join(""));const s=document.getElementById("projectModalResults");s&&(s.innerHTML=e.results.map(e=>`<li><i class="fas fa-check-circle"></i> ${e}</li>`).join(""));const l=document.getElementById("projectModalLink");l&&(l.href=e.link),t.classList.add("active"),t.setAttribute("aria-hidden","false"),trapModalFocus(t),setTimeout(()=>{const e=t.querySelector(".project-modal-close");e&&e.focus()},ANIMATION_CONFIG.FOCUS_DELAY)}catch(e){console.error("Error opening project modal:",e)}}function closeProjectModal(){const e=document.getElementById("projectModal");e.classList.remove("active"),e.setAttribute("aria-hidden","true"),window.history.pushState(null,"",window.location.pathname),lastProjectFocusedElement&&(lastProjectFocusedElement.focus(),lastProjectFocusedElement=null)}try{const e=document.getElementById("projectModal");if(e){e.addEventListener("click",e=>{"projectModal"===e.target.id&&closeProjectModal()});const t=e.querySelector(".project-modal-close");t&&t.addEventListener("click",closeProjectModal)}window.openProjectModal=openProjectModal,window.closeProjectModal=closeProjectModal;const t=window.location.hash;if(t.startsWith("#project-")){const e=t.replace("#project-",""),o=allProjects.find(t=>t.title.toLowerCase().replace(/[^a-z0-9]+/g,"-")===e);o&&setTimeout(()=>openProjectModal(o),500)}attachProjectListDelegation(),renderProjects()}catch(e){console.error("Error initializing project modal:",e)}